<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Comm Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Comm Docs Atom Feed"><title data-react-helmet="true">Setting up the Dev Environment (macOS) | Comm Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/devenvironment_mac"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Setting up the Dev Environment (macOS) | Comm Docs"><meta data-react-helmet="true" name="description" content="Requirements"><meta data-react-helmet="true" property="og:description" content="Requirements"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/devenvironment_mac"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/devenvironment_mac" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/devenvironment_mac" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.25737ade.css">
<link rel="preload" href="/assets/js/runtime~main.881d3be3.js" as="script">
<link rel="preload" href="/assets/js/main.2ac90de7.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/commicon.png" alt="Comm Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/commicon.png" alt="Comm Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Comm Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/devenvironment_mac">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/CommE2E/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">üåú</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">üåû</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Docs</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/devenvironment_mac">Setting up the Dev Environment (macOS)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/devenvironment_linux">Setting up the Dev Environment (Linux)</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Setting up the Dev Environment</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="requirements">Requirements<a aria-hidden="true" class="hash-link" href="#requirements" title="Direct link to heading">‚Äã</a></h2><p>Please note that our dev environment currently only works on macOS and Linux.</p><p>For the (sparse) Linux instructions <a href="/docs/devenvironment_linux">head to the Linux configuration steps</a>.</p><details class="details_Q743 alert alert--info details_h+cY" data-collapsed="true"><summary>Why not Windows? (click to expand)</summary><div><div class="collapsibleContent_K5uX"><p>It‚Äôs primarily because Apple only supports iOS development using macOS. It‚Äôs true that we could support web, server, and Android development on other operating systems, but because of the Apple requirement, all of our active developers currently run macOS. We‚Äôd very much welcome a PR to build out support on Windows!</p></div></div></details><p>Unfortunately the dev environment is overall pretty heavy. You‚Äôll ideally want a machine with at least 32 GiB of RAM, although 16 GiB should suffice.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="prerequisites">Prerequisites<a aria-hidden="true" class="hash-link" href="#prerequisites" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="xcode">Xcode<a aria-hidden="true" class="hash-link" href="#xcode" title="Direct link to heading">‚Äã</a></h3><p><a href="https://apps.apple.com/us/app/xcode/id497799835" target="_blank" rel="noopener noreferrer">Install Xcode</a>, or if you have it already, update it to the latest version.</p><p>After installation of XCode, open it up. If you are prompted, follow the instructions to install any ‚ÄúAdditional Required Components‚Äù.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Make sure that the ‚ÄúCommand Line Tools‚Äù are installed. Go to Xcode ‚Üí Preferences ‚Üí Locations, and then install the tools by selecting the most recent version from the Command Line Tools dropdown.</p></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="homebrew">Homebrew<a aria-hidden="true" class="hash-link" href="#homebrew" title="Direct link to heading">‚Äã</a></h3><p>Install <a href="https://brew.sh/" target="_blank" rel="noopener noreferrer">Homebrew</a>, a package manager for macOS.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="node">Node<a aria-hidden="true" class="hash-link" href="#node" title="Direct link to heading">‚Äã</a></h3><p>Next, install <a href="https://nodejs.org/" target="_blank" rel="noopener noreferrer">Node</a> using Homebrew.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">brew install node; brew upgrade node</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The reason we use both <code>install</code> and <code>upgrade</code> is that there‚Äôs no single Homebrew command equivalent to ‚Äúinstall if not installed, and upgrade if already installed‚Äù.</p></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="php-macos-12xx">PHP (macOS 12.x.x)<a aria-hidden="true" class="hash-link" href="#php-macos-12xx" title="Direct link to heading">‚Äã</a></h3><p><a href="https://www.php.net" target="_blank" rel="noopener noreferrer">PHP</a> is needed for both Arcanist and PHPMyAdmin. As of macOS 12 (Monterrey), PHP is no longer bundled with the OS and needs to be installed via Homebrew.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">brew install php; brew upgrade php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The installer may require you to run <code>xcode-select --install</code> if it has not been executed yet. </p><p>After installation of PHP, consider copying the following message, which contains useful paths for use in the Apache setup below. </p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">To enable PHP in Apache add the following to httpd.conf and restart Apache:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LoadModule php_module /opt/homebrew/opt/php/lib/httpd/modules/libphp.so</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;FilesMatch \.php$&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SetHandler application/x-httpd-php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/FilesMatch&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><h2 class="anchor anchorWithStickyNavbar_y2LR" id="alternatives-to-php-m1-macs">Alternatives to PHP (M1 macs)<a aria-hidden="true" class="hash-link" href="#alternatives-to-php-m1-macs" title="Direct link to heading">‚Äã</a></h2><p>PHP is only important for PHPMyAdmin, which handles webclient MySQL administration. </p><p>Some of the team on M1 macs ran into issues regarding PHP and Apache, and ended up using <a href="https://tableplus.com/" target="_blank" rel="noopener noreferrer">TablePlus</a> instead. TablePlus isn&#x27;t dependent upon PHP and appears to work out of the box, in which case PHP installation is not required. </p></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="yarn">Yarn<a aria-hidden="true" class="hash-link" href="#yarn" title="Direct link to heading">‚Äã</a></h3><p>We use the <a href="https://yarnpkg.com/" target="_blank" rel="noopener noreferrer">Yarn</a> package manager for JavaScript in our repo.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">brew install yarn; brew upgrade yarn</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="watchman">Watchman<a aria-hidden="true" class="hash-link" href="#watchman" title="Direct link to heading">‚Äã</a></h3><p><a href="https://facebook.github.io/watchman/" target="_blank" rel="noopener noreferrer">Watchman</a> is a tool from Facebook used in the React Native dev environment to watch for changes to your filesystem.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">brew install watchman; brew upgrade watchman</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="nvm">nvm<a aria-hidden="true" class="hash-link" href="#nvm" title="Direct link to heading">‚Äã</a></h3><p><a href="https://github.com/nvm-sh/nvm" target="_blank" rel="noopener noreferrer">Node Version Manager</a> is a tool that helps us make sure we use the same version of Node on our server between prod and dev environments.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">brew install nvm; brew upgrade nvm</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>After installing, Homebrew will print out some instructions under the Caveats section of its output. It will ask you to do two things: <code>mkdir ~/.nvm</code>, and to add some lines to your <code>~/.bash_profile</code> (or desired shell configuration file). We recommend that you append <code>--no-use</code> to the line that loads nvm, so that you continue to use your Homebrew-sourced Node distribution by default:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">export NVM_DIR=&quot;$HOME/.nvm&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ -s &quot;/usr/local/opt/nvm/nvm.sh&quot; ] &amp;&amp; . &quot;/usr/local/opt/nvm/nvm.sh&quot; --no-use # This loads nvm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ -s &quot;/usr/local/opt/nvm/etc/bash_completion.d/nvm&quot; ] &amp;&amp; . &quot;/usr/local/opt/nvm/etc/bash_completion.d/nvm&quot;  # This loads nvm bash_completion</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Now either close and reopen your terminal window or re-source your shell configuration file in order to load nvm:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">source ~/.bash_profile</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>We are currently using Node v16.9.0, which may not be the default used by a fresh nvm install. </p><p>Consider running the following nvm command to peg the default Node version: </p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">nvm alias default 16.9.0</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="mysql">MySQL<a aria-hidden="true" class="hash-link" href="#mysql" title="Direct link to heading">‚Äã</a></h3><p>(For now) we‚Äôre using <a href="https://dev.mysql.com/doc/refman/5.7/en/" target="_blank" rel="noopener noreferrer">MySQL 5.7</a> as the primary server-side database. We have plans to change this soon, but for now, install MySQL 5.7 using Homebrew.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">brew install mysql@5.7; brew upgrade mysql@5.7</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Next we‚Äôll configure MySQL to start when your computer boots using <code>brew services</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">brew tap homebrew/services</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brew services start mysql@5.7</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We‚Äôll also want to link MySQL so that you can run CLI commands:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">brew link mysql@5.7 --force</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Finally, you should set up a root password for your local MySQL instance:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">mysqladmin -u root password</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="redis">Redis<a aria-hidden="true" class="hash-link" href="#redis" title="Direct link to heading">‚Äã</a></h3><p>We use <a href="https://redis.io/" target="_blank" rel="noopener noreferrer">Redis</a> on the server side as a message broker.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">brew install redis; brew upgrade redis</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We‚Äôll set it up to start on boot with <code>brew services</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">brew services start redis</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="cocoapods">CocoaPods<a aria-hidden="true" class="hash-link" href="#cocoapods" title="Direct link to heading">‚Äã</a></h3><p><a href="https://cocoapods.org/" target="_blank" rel="noopener noreferrer">CocoaPods</a> is a dependency management system for iOS development. React Native uses it to manage native modules.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">brew install cocoapods; brew upgrade cocoapods</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="reactotron">Reactotron<a aria-hidden="true" class="hash-link" href="#reactotron" title="Direct link to heading">‚Äã</a></h3><p><a href="https://github.com/infinitered/reactotron" target="_blank" rel="noopener noreferrer">Reactotron</a> is an event tracker and logger that can be used to aid in debugging on React Native.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">brew install reactotron; brew upgrade reactotron</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="flipper">Flipper<a aria-hidden="true" class="hash-link" href="#flipper" title="Direct link to heading">‚Äã</a></h3><p>Flipper is a debugging tool for mobile applications from Facebook. We use it for JavaScript debugging using the Hermes runtime, and also use several plugins such as the React Dev Tools. You can download the latest version of Flipper for MacOS <a href="https://www.facebook.com/fbflipper/public/mac" target="_blank" rel="noopener noreferrer">here</a>.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="flipper-plugins">Flipper plugins<a aria-hidden="true" class="hash-link" href="#flipper-plugins" title="Direct link to heading">‚Äã</a></h4><p>Flipper has a plugin system that allows teams to integrate additional debugging tools into Flipper. We currently only use one plugin, which is for monitoring Redux state.</p><p>To install it, open Flipper and go to View ‚Üí Manage Plugins. Type in &quot;redux-debugger&quot; and install the Flipper plugin with that name.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="idb">idb<a aria-hidden="true" class="hash-link" href="#idb" title="Direct link to heading">‚Äã</a></h3><p>Flipper relies on Facebook‚Äôs <a href="https://github.com/facebook/idb" target="_blank" rel="noopener noreferrer">idb tool</a> to debug iOS apps running on your device. We‚Äôll need to install it:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">brew tap facebook/fb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brew install idb-companion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip3 install --user --upgrade fb-idb</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Since we run <code>pip3 install</code> with <code>--user</code> instead of running it with <code>sudo</code>, the <code>idb</code> executable gets installed in your userdir. For me, running MacOS with Python 3.9, it got installed in <code>~/Library/Python/3.9/bin/idb</code>. For Flipper to be able to talk to <code>idb</code>, you‚Äôll need to set the IDB Binary Location in the Flipper Settings (File ‚Üí Preferences).</p><p>If you have trouble getting Flipper to work with a physical iOS device, it may be due to Python weirdness. The above steps have been tested with Python 3.9 sourced from Homebrew. Let @ashoat know if you have any trouble!</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="react-dev-tools-chrome-extension">React Dev Tools Chrome extension<a aria-hidden="true" class="hash-link" href="#react-dev-tools-chrome-extension" title="Direct link to heading">‚Äã</a></h3><p>The <a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi?hl=en" target="_blank" rel="noopener noreferrer">React Dev Tools Chrome extension</a> lets you inspect the React component tree for web applications in Chrome. You can install it by navigating <a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi" target="_blank" rel="noopener noreferrer">here</a> on Chrome.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="redux-dev-tools-chrome-extension">Redux Dev Tools Chrome extension<a aria-hidden="true" class="hash-link" href="#redux-dev-tools-chrome-extension" title="Direct link to heading">‚Äã</a></h3><p>The <a href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd?hl=en" target="_blank" rel="noopener noreferrer">Redux Dev Tools Chrome extension</a> lets you watch for Redux actions and inspect the Redux store state, both for web applications in Chrome, but also for our native applications using the ‚ÄúRemote DevTools‚Äù functionality. To install it, navigate <a href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd" target="_blank" rel="noopener noreferrer">here</a> on Chrome.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="jdk">JDK<a aria-hidden="true" class="hash-link" href="#jdk" title="Direct link to heading">‚Äã</a></h3><p>We‚Äôll need the Java Development Kit for Android development.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">brew install adoptopenjdk/openjdk/adoptopenjdk11; brew upgrade adoptopenjdk/openjdk/adoptopenjdk11</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We should also make sure to set up the <code>$JAVA_HOME</code> environment variable to point to our new JDK. Append the following line to your <code>~/.bash_profile</code> (or desired shell configuration file):</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">export JAVA_HOME=$(/usr/libexec/java_home)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="android-studio">Android Studio<a aria-hidden="true" class="hash-link" href="#android-studio" title="Direct link to heading">‚Äã</a></h3><p>Start by downloading and installing <a href="https://developer.android.com/studio/index.html" target="_blank" rel="noopener noreferrer">Android Studio</a>. When prompted to choose an installation type, select ‚ÄúCustom‚Äù. Make sure you check the boxes for the following:</p><ul><li><code>Android SDK</code></li><li><code>Android SDK Platform</code></li><li><code>Performance (Intel ¬Æ HAXM)</code></li><li><code>Android Virtual Device</code></li></ul><h4 class="anchor anchorWithStickyNavbar_y2LR" id="android-sdk">Android SDK<a aria-hidden="true" class="hash-link" href="#android-sdk" title="Direct link to heading">‚Äã</a></h4><p>Android Studio installs the latest Android SDK by default, but since React Native uses the Android 10 SDK specifically, we‚Äôll need to install it using Android Studio‚Äôs SDK Manager. You can access the SDK Manager from the ‚ÄúWelcome to Android Studio‚Äù screen that pops up when you first open the application, under ‚ÄúConfigure‚Äù. If you already have a project open, you can access it from Tools ‚Üí SDK Manager.</p><p>Once you have the SDK Manager open, select the ‚ÄúSDK Platforms‚Äù tab, and then check the box for ‚ÄúShow Package Details‚Äù. Now expand the ‚ÄúAndroid 10 (Q)‚Äù section, and make sure the following subsections are checked:</p><ul><li><code>Android SDK Platform 29</code></li><li><code>Intel x86 Atom_64 System Image</code> or <code>Google APIs Intel x86 Atom System Image</code></li></ul><p>Next, select the ‚ÄúSDK Tools‚Äù tab, and check the box for ‚ÄúShow Package Details‚Äù. Expand the ‚ÄúAndroid SDK Build-Tools‚Äù section, and make sure that the ‚Äú29.0.2‚Äù subsection is checked.</p><p>To finish the SDK Manager step, click ‚ÄúApply‚Äù to download and install everything you‚Äôve selected.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="enable-android-cli-commands">Enable Android CLI commands<a aria-hidden="true" class="hash-link" href="#enable-android-cli-commands" title="Direct link to heading">‚Äã</a></h4><p>You‚Äôll need to append the following lines to your <code>~/.bash_profile</code> (or desired shell configuration file) in order for React Native to be able to build your Android project.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">export ANDROID_HOME=$HOME/Library/Android/sdk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export PATH=$PATH:$ANDROID_HOME/emulator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export PATH=$PATH:$ANDROID_HOME/tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export PATH=$PATH:$ANDROID_HOME/tools/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export PATH=$PATH:$ANDROID_HOME/platform-tools</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Now either close and reopen your terminal window or re-source your shell configuration file in order to run the new commands:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">source ~/.bash_profile</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="arcanist">Arcanist<a aria-hidden="true" class="hash-link" href="#arcanist" title="Direct link to heading">‚Äã</a></h3><p>We use Phabricator for code review. To upload a ‚Äúdiff‚Äù to Phabricator, you‚Äôll need to use a tool called <a href="https://secure.phabricator.com/book/phabricator/article/arcanist/" target="_blank" rel="noopener noreferrer">Arcanist</a>.</p><p>To install Arcanist, we‚Äôll need to clone its Git repository. Pick a place in your filesystem to store it, and then run this command:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/phacility/arcanist.git</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Next, you‚Äôll need to add the path <code>./arcanist/bin</code> to your <code>$PATH</code> in your <code>~/.bash_profile</code> (or desired shell configuration file):</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">export PATH=$PATH:~/src/arcanist/bin</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Make sure to replace the <code>~/src</code> portion of the above with the location of the directory you installed Arcanist in.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="docker">Docker<a aria-hidden="true" class="hash-link" href="#docker" title="Direct link to heading">‚Äã</a></h2><p><a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer">Docker</a> is the containerization platform that we will be using to package applications. </p><p>We&#x27;ll install Docker via Homebrew. This guide will detail the steps taken for Docker engine installation. Feel free to use Docker Desktop in conjunction. </p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>We&#x27;ll need at minimum 20GB disk space for bare bones installation, with at least 50GBs for <code>:auto</code> (50:50 split between base image and runtime image).</p></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">brew install docker; brew upgrade docker </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We&#x27;re also going to need to install docker-machine and virtualbox, which Docker uses to run correctly on macOS.  </p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">brew install docker-machine; brew upgrade docker-machine</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>VirtualBox is not officially supported yet on MacOS Monterey (or even High Sierra for that matter). Consider setting up Docker last, until we can update the docs better.  </p></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>You&#x27;ll be prompted for password from Terminal, and likely receive a warning that &quot;macOS blocked the install&quot;. If the installation fails, retry after you enable it in:
System Preferences ‚Üí Security &amp; Privacy ‚Üí General</p><ul><li>This <a href="https://developer.apple.com/library/content/technotes/tn2459/_index.html" target="_blank" rel="noopener noreferrer">Apple Technical Note</a> provides more context. </li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="configuration">Configuration<a aria-hidden="true" class="hash-link" href="#configuration" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="apache">Apache<a aria-hidden="true" class="hash-link" href="#apache" title="Direct link to heading">‚Äã</a></h3><p>In both dev and prod environments we have Node configured to run on port 3000, with Apache proxying it across to port 80. The reason for Apache is so that we can use other tech stacks alongside Node. In particular, we‚Äôve been using a MySQL administration web frontend called PHPMyAdmin.</p><p>macOS comes with an Apache installation built in. We just need to configure it a little bit.</p><p>First, we‚Äôll edit the main Apache configuration file.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">sudo vim /private/etc/apache2/httpd.conf</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The following individual lines each need to be uncommented:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">LoadModule proxy_module libexec/apache2/mod_proxy.so</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LoadModule proxy_http_module libexec/apache2/mod_proxy_http.so</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LoadModule proxy_wstunnel_module libexec/apache2/mod_proxy_wstunnel.so</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LoadModule userdir_module libexec/apache2/mod_userdir.so</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LoadModule php7_module libexec/apache2/libphp7.so</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Include /private/etc/apache2/extra/httpd-userdir.conf</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Next, we‚Äôll edit the <code>http-userdir.conf</code> file.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">sudo vim /private/etc/apache2/extra/httpd-userdir.conf</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The following line needs to be uncommented:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Include /private/etc/apache2/users/*.conf</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Now for the main course. We need to set up a configuration file for the current user.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">sudo vim /private/etc/apache2/users/$USER.conf</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;Directory &quot;/Users/ashoat/Sites/&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AllowOverride All</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Options Indexes FollowSymLinks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Require all granted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/Directory&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;VirtualHost *:80&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ProxyRequests on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ProxyPass /comm/ws ws://localhost:3000/ws</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ProxyPass /comm/ http://localhost:3000/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ProxyPass /commlanding/ http://localhost:3000/commlanding/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  RequestHeader set &quot;X-Forwarded-Proto&quot; expr=%{REQUEST_SCHEME}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  RequestHeader set &quot;X-Forwarded-SSL&quot; expr=%{HTTPS}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/VirtualHost&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Make sure to replace ‚Äúashoat‚Äù on the first line above with your macOS user.</p><p>You‚Äôll also want to make sure that Apache can read your new file.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">sudo chmod 644 /private/etc/apache2/users/$USER.conf</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Finally, let‚Äôs restart Apache so it picks up the changes.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apachectl restart</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="mysql-1">MySQL<a aria-hidden="true" class="hash-link" href="#mysql-1" title="Direct link to heading">‚Äã</a></h3><p>Next we‚Äôll set up a MySQL user and a fresh database. We‚Äôll start by opening up a MySQL console.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">mysql -u root -p</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Type in the MySQL root password you set up previously when prompted. Then, we‚Äôll go ahead and create an empty database.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">CREATE DATABASE comm;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Now we need to create a user that can access this database. For the following command, replace ‚Äúpassword‚Äù with a unique password.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">CREATE USER comm@localhost IDENTIFIED BY &#x27;password&#x27;;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Finally, we will give permissions to this user to access this database.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">GRANT ALL ON comm.* TO comm@localhost;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You can now exit the MySQL console using Ctrl+D.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="phpmyadmin">PHPMyAdmin<a aria-hidden="true" class="hash-link" href="#phpmyadmin" title="Direct link to heading">‚Äã</a></h3><p>Next we‚Äôll set up PHPMyAdmin. If you‚Äôre familiar with an alternative MySQL administration frontend you can feel free to use it instead.</p><p>Start by downloading the latest PHPMyAdmin release from their <a href="https://www.phpmyadmin.net/" target="_blank" rel="noopener noreferrer">website</a>. In the following steps, make sure to replace the version number with the one you downloaded. We‚Äôll begin by unzipping the download.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">unzip phpMyAdmin-5.0.1-all-languages.zip</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>In our Apache configuration above, we set Apache to handle everything in <code>~/Sites</code>, so we‚Äôll go ahead and move PHPMyAdmin over there.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p ~/Sites</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/Downloads</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mv phpMyAdmin-5.0.1-all-languages ~/Sites/phpmyadmin</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We also need to create a ‚ÄúTempDir‚Äù for PHPMyAdmin.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">pushd ~/Sites/phpmyadmin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir tmp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod 777 tmp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">popd</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Next we‚Äôll go through the PHPMyAdmin setup UI. Navigate to http://localhost/~youruser/phpmyadmin/setup/, making sure to replace ‚Äúyouruser‚Äù with your macOS username.</p><p>If there are any servers listed, go ahead and delete them. Next, select the option to add a new server. Fill out the ‚Äúverbose name‚Äù under ‚ÄúBasic Settings‚Äù, and then make sure to set ‚Äú127.0.0.1‚Äù as the hostname. For some reason, ‚Äúlocalhost‚Äù will not work.</p><p>Then tab over to ‚ÄúAuthentication‚Äù. Select the ‚Äúconfig‚Äù option under ‚ÄúAuthentication type‚Äù, and then enter in the MySQL user and password that you created in the previous step. Now hit ‚ÄúApply‚Äù.</p><p>You should now be back on the Overview page. Hit ‚ÄúDownload‚Äù to download the new <code>config.inc.php</code> file, and then move it into the <code>~/Sites/phpmyadmin</code> folder.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">mv config.inc.php ~/Sites/phpmyadmin/</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You should now be able to access PHPMyAdmin without needing to log in. Try navigating to http://localhost/~youruser/phpmyadmin/, making sure to replace ‚Äúyouruser‚Äù with your macOS username.</p><p>Our final step will be to configure PHP to be able to handle large files, in case you find yourself needing to deal with a database backup. PHP is configured by a <code>php.ini</code> file. First, check if you have one in <code>/private/etc/php.ini</code>. If you don‚Äôt, copy over the default:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">cp /private/etc/php.ini.default /private/etc/php.ini</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We just need to update three settings: <code>memory_limit</code>, <code>post_max_size</code>, and <code>upload_max_filesize</code>. All should be set to <code>256M</code>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="android-emulator">Android emulator<a aria-hidden="true" class="hash-link" href="#android-emulator" title="Direct link to heading">‚Äã</a></h3><p>In order to test the Android app on your computer you‚Äôll need to set up an Android emulator. To do this we‚Äôll need to open up the AVD Manager in Android Studio. AVD stands for ‚ÄúAndroid Virtual Device‚Äù. You can access the AVD Manager from the ‚ÄúWelcome to Android Studio‚Äù screen that pops up when you first open the application, under ‚ÄúConfigure‚Äù. If you already have a project open, you can access it from Tools ‚Üí AVD Manager.</p><p>With the the AVD Manager open, select ‚ÄúCreate Virtual Device‚Äù on the bottom row. Feel free to select any ‚Äúdevice definition‚Äù that includes Play Store support.</p><p>On the next screen you‚Äôll be asked to select a system image. Go for the latest version of Android that has been released. That‚Äôs currently Android 10, also known as Android Q.</p><p>From there you can just hit Next and then Finish. You should then be able to start your new AVD from the AVD Manager.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="git-repo">Git repo<a aria-hidden="true" class="hash-link" href="#git-repo" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="clone-from-github">Clone from GitHub<a aria-hidden="true" class="hash-link" href="#clone-from-github" title="Direct link to heading">‚Äã</a></h3><p>Finally! It‚Äôs time to clone the repo from GitHub.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">git clone git@github.com:CommE2E/comm.git</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Once you have the repo cloned, you can run this command to pull in dependencies.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">cd comm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn cleaninstall</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="urls">URLs<a aria-hidden="true" class="hash-link" href="#urls" title="Direct link to heading">‚Äã</a></h3><p>The server needs to know some info about paths in order to properly construct URLs.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p server/facts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vim server/facts/url.json</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Your <code>url.json</code> file should look like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;baseRoutePath&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Next, we‚Äôll create a file for constructing URLs for the main app.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">vim server/facts/app_url.json</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Your <code>app_url.json</code> file should look like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;baseDomain&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://localhost&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;basePath&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/comm/&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;https&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Finally, we‚Äôll create a file for the URLs in the landing page.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">vim server/facts/landing_url.json</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Your <code>landing_url.json</code> file should look like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;baseDomain&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://localhost&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;basePath&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/commlanding/&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;baseRoutePath&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/commlanding/&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;https&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="mysql-2">MySQL<a aria-hidden="true" class="hash-link" href="#mysql-2" title="Direct link to heading">‚Äã</a></h3><p>The server side needs to see some config files before things can work. The first is a config file with MySQL details.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">cd server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir secrets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vim secrets/db_config.json</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The DB config file should look like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;host&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;localhost&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;user&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;comm&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;password&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;password&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;database&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;comm&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Make sure to replace the password with the one you set up for your <code>comm</code> MySQL user earlier.</p><p>New let‚Äôs run a script to setup the database. Before we can run the script, we‚Äôll have to use Babel to transpile our source files into something Node can interpret. Babel will transpile the files in <code>src</code> into a new directory called <code>dist</code>. We also use <code>rsync</code> to copy over files that don‚Äôt need transpilation.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">yarn babel-build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn rsync</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn script dist/scripts/create-db.js</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="phabricator">Phabricator<a aria-hidden="true" class="hash-link" href="#phabricator" title="Direct link to heading">‚Äã</a></h3><p>The last configuration step is to set up an account on Phabricator, where we handle code review. Start by <a href="https://phabricator.ashoat.com" target="_blank" rel="noopener noreferrer">logging in to Phabricator</a> using your GitHub account.</p><p>Next, make sure you‚Äôre inside the directory containing the Comm Git repository, and run the following command:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">arc install-certificate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This command will help you connect your Phabricator account with the local Arcanist instance, allowing you to run <code>arc diff</code> and <code>arc land</code> commands.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="development">Development<a aria-hidden="true" class="hash-link" href="#development" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="flow-typechecker">Flow typechecker<a aria-hidden="true" class="hash-link" href="#flow-typechecker" title="Direct link to heading">‚Äã</a></h3><p>It‚Äôs good to run the <code>flow</code> typechecker frequently to make sure you‚Äôre not introducing any type errors. Flow treats each Yarn Workspace as a separate environment, and as such runs a separate type-checking server for each. This server is started when you first run <code>node_modules/.bin/flow</code> in each of the four Yarn Workspace folders.</p><p>To make sure Flow runs from the command-line, you can edit your <code>$PATH</code> environmental variable in your <code>~/.bash_profile</code> file (or desired shell configuration file) to always include <code>./node_modules/.bin</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">export PATH=$PATH:./node_modules/.bin</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>As always, make sure you reload the <code>~/.bash_profile</code> after editing it:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">source ~/.bash_profile</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You should now be able to run <code>flow</code> in any of the Yarn workspaces:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">cd lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flow</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="running-web-app">Running web app<a aria-hidden="true" class="hash-link" href="#running-web-app" title="Direct link to heading">‚Äã</a></h3><p>Open a new terminal and run:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">cd web</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn dev</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This will start two processes. One is <code>webpack-dev-server</code>, which will serve the JS files. <code>webpack-dev-server</code> also makes sure the website automatically hot-reloads whenever any of the source files change. The other process is <code>webpack --watch</code>, which will build the <code>app.build.cjs</code> file, as well as rebuilding it whenever any of the source files change. The <code>app.build.cjs</code> file is consumed by the Node server in order to pre-render the initial HTML from the web source (‚ÄúServer-Side Rendering‚Äù).</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="running-landing-page">Running landing page<a aria-hidden="true" class="hash-link" href="#running-landing-page" title="Direct link to heading">‚Äã</a></h3><p>Open a new terminal and run:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">cd landing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn dev</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This runs the same two processes as the web app, but for the landing page. Note that the <code>landing.build.cjs</code> file (similar to the web app‚Äôs <code>app.build.cjs</code> file) is consumed by the Node server.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="running-server">Running server<a aria-hidden="true" class="hash-link" href="#running-server" title="Direct link to heading">‚Äã</a></h3><p>Open a new terminal and run:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">cd server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn dev</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You should now be able to load the web app in your web browser at http://localhost/comm/, and the landing page at http://localhost/commlanding/.</p><p>This command runs three processes. The first two are to keep the <code>dist</code> folder updated whenever the <code>src</code> folder changes. They are ‚Äúwatch‚Äù versions of the same Babel and <code>rsync</code> commands we used to initially create the <code>dist</code> folder (before running the <code>create-db.js</code> script above). The final process is <code>nodemon</code>, which is similar to <code>node</code> except that it restarts whenever any of its source files (in the <code>dist</code> directory) changes.</p><p>Note that if you run <code>yarn dev</code> in <code>server</code> right after <code>yarn cleaninstall</code>, before Webpack is given a chance to build <code>app.build.cjs</code>/<code>landing.build.cjs</code> files, then Node will crash when it attempts to import those files. Just make sure to run <code>yarn dev</code> (or <code>yarn prod</code>) in <code>web</code> or <code>landing</code> before attempting to load the corresponding webpages.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="running-ios">Running iOS<a aria-hidden="true" class="hash-link" href="#running-ios" title="Direct link to heading">‚Äã</a></h3><p>First, make sure that the React Native packager is open. If you haven‚Äôt already, open a new terminal and run:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">cd native</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn dev</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This command runs two processes. The first is the Metro bundler, which handles bundling our app‚Äôs JavaScript code and communicating with the debug build of the app running on either the simulator or a physical device. The second is the <code>remotedev-server</code> for Redux, which is a proxy of sorts through which the Redux monitor (running in the Chrome extension) can communicate with the debug build of the app.</p><p>Next, open <code>native/ios/Comm.xcworkspace</code> in Xcode. Select a simulator and then hit the play button to build and run the project.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="running-android">Running Android<a aria-hidden="true" class="hash-link" href="#running-android" title="Direct link to heading">‚Äã</a></h3><p>First, make sure that the React Native packager is open. If you haven‚Äôt already, open a new terminal and run:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">cd native</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn dev</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This commands runs two processes (see previous section for details).</p><p>Next, boot up an Android simulator using Android Studio‚Äôs AVD Manager. You should have a single Android simulator (or plugged-in device) running at one time.</p><p>Finally, use this command to build and run the Android app:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">cd native</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn react-native run-android</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="codegen">Codegen<a aria-hidden="true" class="hash-link" href="#codegen" title="Direct link to heading">‚Äã</a></h3><p>We use a couple of tools that automatically generate code. There is always a source of truth ‚Äì usually some file(s) with schemas.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="codegen-for-jsi">Codegen for JSI<a aria-hidden="true" class="hash-link" href="#codegen-for-jsi" title="Direct link to heading">‚Äã</a></h4><p>JSI is a framework in React Native that allows C++ and JS to communicate synchronously and directly. The codegen for JSI takes a Flow schema and generates C++ files that enable communication between JS and C++ in <code>react-native</code> apps.</p><p>The script to generate this code is written in JavaScript and is included as a npm package so no additional software is needed to use it. The schema has to be defined in Flow as an interface, and that interface must inherit from react-native&#x27;s <code>TurboModule</code> interface.</p><p>To run the JSI codegen, just run <code>cd native &amp;&amp; yarn codegen-jsi</code>. The input Flow schemas are located in <code>native/schema</code>.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="codegen-for-grpc">Codegen for gRPC<a aria-hidden="true" class="hash-link" href="#codegen-for-grpc" title="Direct link to heading">‚Äã</a></h4><p>gRPC is a framework from Google for writing services. As a developer, you define your service&#x27;s API using Protobufs, and gRPC handles the networking and basic infrastructure for you.</p><p>The codegen for gRPC takes files written in the <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">proto language</a> as input and outputs C++ code that enables a developer to create a client and a server that use gRPC for communication.</p><p>Because of C++ build dependencies, this could not be bundled as an npm package. <code>brew</code> also fails to install the required version so if you want to generate files in your local environment, you have to manually install protobuf.</p><p>If you find yourself needing to modify the Protobuf schema files, you&#x27;ll need to set up the tools to run the codegen. Follow the steps below:</p><ul><li><code>brew install autoconf automake libtool curl make g++ unzip</code></li><li><code>wget https://github.com/protocolbuffers/protobuf/releases/download/v3.15.8/protobuf-cpp-3.15.8.tar.gz</code></li><li><code>tar xfzv protobuf-cpp-3.15.8.tar.gz</code></li><li><code>cd protobuf-3.15.8</code></li><li><code>./configure</code></li><li><code>make</code></li><li><code>make check</code></li><li><code>make install</code></li></ul><p>After installing, you should be able to check the version of Protobuf like this: <code>protoc --version</code></p><p>After installing Protobuf, you will also need to install gRPC using <code>brew install grpc</code>. This will install the <code>grpc_cpp_plugin</code> for <code>protoc</code> (the Protobuf compiler), which is necessary for compiling gRPC schemas.</p><p>Please note that the order is crucial here - you have to first install Protobuf and only then gRPC. This is because otherwise gRPC will install Protobuf automatically from its dependency list, but the version of Protobuf will be incorrect.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="debugging">Debugging<a aria-hidden="true" class="hash-link" href="#debugging" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="react-developer-tools">React Developer Tools<a aria-hidden="true" class="hash-link" href="#react-developer-tools" title="Direct link to heading">‚Äã</a></h3><ul><li>For web, you can access the React Developer Tools through the Chrome extension by opening the Chrome Developer Tools and selecting the ‚ÄúComponents‚Äù or ‚ÄúProfiler‚Äù tabs. This should work in both our development environment and in production.</li><li>For iOS and Android, you can access the React Developer Tools through Flipper. First start a debug build of a React Native app. Next, just open up Flipper and you should be able to see an option for ‚ÄúReact DevTools‚Äù. Flipper communicates with the app through the Metro bundler that gets started when you run <code>cd native &amp;&amp; yarn dev</code>.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="redux-developer-tools">Redux Developer Tools<a aria-hidden="true" class="hash-link" href="#redux-developer-tools" title="Direct link to heading">‚Äã</a></h3><ul><li>For web, you can access the Redux Developer Tools through the Chrome extension by opening the Chrome Developer Tools and selecting the ‚ÄúRedux‚Äù tab. This should work in both our development environment and in production, although in production you won‚Äôt be able to see Redux actions from before you opened up the Redux dev tools.</li><li>For iOS and Android, you can access the Redux Developer Tools through the Chrome extension‚Äôs Remote DevTools functionality. First, to open the Remote DevTools, right click on any webpage, go into the ‚ÄúRedux DevTools‚Äù menu, and select ‚ÄúOpen Remote DevTools‚Äù. Then hit ‚ÄúSettings‚Äù, select ‚ÄúUse custom (local) server‚Äù, and configure it to connect to <code>localhost</code> on port 8043. This will connect to the <code>remotedev-server</code> instance that you started when you ran <code>cd native &amp;&amp; yarn dev</code>.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="debugging-javascript">Debugging JavaScript<a aria-hidden="true" class="hash-link" href="#debugging-javascript" title="Direct link to heading">‚Äã</a></h3><ul><li>For web, you can just use your browser of choice‚Äôs dev tools.</li><li>For iOS and Android, you should use Flipper. First start a debug build of a React Native app. Next, just open up Flipper and you should be able to see an option for ‚ÄúHermes Debugger (RN)‚Äù. Flipper communicates with the app through the Metro bundler that gets started when you run <code>cd native &amp;&amp; yarn dev</code>.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="working-with-phabricator">Working with Phabricator<a aria-hidden="true" class="hash-link" href="#working-with-phabricator" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="creating-a-new-diff">Creating a new diff<a aria-hidden="true" class="hash-link" href="#creating-a-new-diff" title="Direct link to heading">‚Äã</a></h3><p>The biggest difference between GitHub‚Äôs PR workflow and Phabricator‚Äôs ‚Äúdiff‚Äù workflow is that Phabricator lets you create a diff from any commit, or set of commits. In contrast, GitHub can only create PRs from branches.</p><p>When you have a commit ready and want to submit a diff for code review, just run <code>arc diff</code> from within the Comm Git repo. Arcanist will attempt to determine the ‚Äúbase‚Äù for your diff automatically, but by default it will take the single most recent commit. You can see what base Arcanist thinks it should use by running <code>arc which</code>. You can also explicitly specify a base by using <code>arc diff --base</code>. For instance, <code>arc diff --base HEAD^</code> will create a diff from the most recent commit, which should be the default behavior.</p><p>Keep in mind that <code>arc diff</code> always diffs the base against your current working copy. Though this nominally includes any unstashed changes you might have, <code>arc diff</code>‚Äôs interactive prompts will help you exclude unrelated changes in your working copy.</p><p>It‚Äôs generally easiest to keep a 1:1 correspondence between diffs and commits. If you‚Äôre working with a stack of commits, you can use Git‚Äôs interactive rebase feature (<code>git rebase -i</code>) to run <code>arc diff</code> on each commit individually.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="updating-a-diff">Updating a diff<a aria-hidden="true" class="hash-link" href="#updating-a-diff" title="Direct link to heading">‚Äã</a></h3><p>Whereas with GitHub PRs, updates are usually created by adding on more commits, in Phabricator the easiest way to update a diff is by amending the existing commit.</p><p>When you run <code>arc diff</code> on a commit for the first time, it amends the commit message to include a link to the Phabricator diff. If and when you want to update that diff, just run <code>arc diff</code> again.</p><p>If you‚Äôre working with a stack of diffs, and want to update an earlier diff, you can use Git‚Äôs interactive rebase feature (<code>git rebase -i</code>) to open the stack to a particular point. Then you can amend that commit and run <code>arc diff</code> before continuing the rebase.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="committing-a-diff">Committing a diff<a aria-hidden="true" class="hash-link" href="#committing-a-diff" title="Direct link to heading">‚Äã</a></h3><p>After your diff has been accepted, you should be able to land it. To land a diff just run <code>arc land</code> from within the repository.</p><p>If you‚Äôre dealing with a stack, <code>arc land</code> will make sure to only land the diffs that have been accepted, and shouldn‚Äôt land any diffs that depend on other diffs that haven‚Äôt been accepted yet.</p><p>Note that you need commit rights to the repository in order to run <code>arc land</code>. If you don‚Äôt have commit rights, reach out to @ashoat for assistance.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="creating-a-herald-rule">Creating a Herald rule<a aria-hidden="true" class="hash-link" href="#creating-a-herald-rule" title="Direct link to heading">‚Äã</a></h3><p>Once you have access to Phabricator, you may want to set up a Herald rule so that you get CC‚Äôd on any new diffs. The way to do that in Phabricator is:</p><ol><li>Go to ‚ÄúMore Applications‚Äù on the left-hand sidebar.</li><li>Select ‚ÄúHerald‚Äù from the list.</li><li>Press the ‚ÄúCreate Herald Rule‚Äù button in the upper-right corner of the screen.</li><li>Select ‚ÄúDifferential Revisions‚Äù from the list.</li><li>Select ‚ÄúPersonal Rule‚Äù from the list.</li><li>Set up your new rule to match <a href="https://phabricator.ashoat.com/H2" target="_blank" rel="noopener noreferrer">this one</a>.</li></ol><h3 class="anchor anchorWithStickyNavbar_y2LR" id="final-notes">Final notes<a aria-hidden="true" class="hash-link" href="#final-notes" title="Direct link to heading">‚Äã</a></h3><p>When developing, I usually just pop up three terminal windows, one for <code>yarn dev</code> in each of server, web, and native.</p><p>Note that it‚Äôs currently only possible to create a user account using the iOS or Android apps. The website supports logging in, but does not support account creation.</p><p>Good luck, and let @ashoat know if you have any questions!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/main/website/docs/dev_environment.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/devenvironment_linux"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Setting up the Dev Environment (Linux)<!-- --> ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a><ul><li><a href="#xcode" class="table-of-contents__link toc-highlight">Xcode</a></li><li><a href="#homebrew" class="table-of-contents__link toc-highlight">Homebrew</a></li><li><a href="#node" class="table-of-contents__link toc-highlight">Node</a></li><li><a href="#php-macos-12xx" class="table-of-contents__link toc-highlight">PHP (macOS 12.x.x)</a></li><li><a href="#yarn" class="table-of-contents__link toc-highlight">Yarn</a></li><li><a href="#watchman" class="table-of-contents__link toc-highlight">Watchman</a></li><li><a href="#nvm" class="table-of-contents__link toc-highlight">nvm</a></li><li><a href="#mysql" class="table-of-contents__link toc-highlight">MySQL</a></li><li><a href="#redis" class="table-of-contents__link toc-highlight">Redis</a></li><li><a href="#cocoapods" class="table-of-contents__link toc-highlight">CocoaPods</a></li><li><a href="#reactotron" class="table-of-contents__link toc-highlight">Reactotron</a></li><li><a href="#flipper" class="table-of-contents__link toc-highlight">Flipper</a></li><li><a href="#idb" class="table-of-contents__link toc-highlight">idb</a></li><li><a href="#react-dev-tools-chrome-extension" class="table-of-contents__link toc-highlight">React Dev Tools Chrome extension</a></li><li><a href="#redux-dev-tools-chrome-extension" class="table-of-contents__link toc-highlight">Redux Dev Tools Chrome extension</a></li><li><a href="#jdk" class="table-of-contents__link toc-highlight">JDK</a></li><li><a href="#android-studio" class="table-of-contents__link toc-highlight">Android Studio</a></li><li><a href="#arcanist" class="table-of-contents__link toc-highlight">Arcanist</a></li></ul></li><li><a href="#docker" class="table-of-contents__link toc-highlight">Docker</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a><ul><li><a href="#apache" class="table-of-contents__link toc-highlight">Apache</a></li><li><a href="#mysql-1" class="table-of-contents__link toc-highlight">MySQL</a></li><li><a href="#phpmyadmin" class="table-of-contents__link toc-highlight">PHPMyAdmin</a></li><li><a href="#android-emulator" class="table-of-contents__link toc-highlight">Android emulator</a></li></ul></li><li><a href="#git-repo" class="table-of-contents__link toc-highlight">Git repo</a><ul><li><a href="#clone-from-github" class="table-of-contents__link toc-highlight">Clone from GitHub</a></li><li><a href="#urls" class="table-of-contents__link toc-highlight">URLs</a></li><li><a href="#mysql-2" class="table-of-contents__link toc-highlight">MySQL</a></li><li><a href="#phabricator" class="table-of-contents__link toc-highlight">Phabricator</a></li></ul></li><li><a href="#development" class="table-of-contents__link toc-highlight">Development</a><ul><li><a href="#flow-typechecker" class="table-of-contents__link toc-highlight">Flow typechecker</a></li><li><a href="#running-web-app" class="table-of-contents__link toc-highlight">Running web app</a></li><li><a href="#running-landing-page" class="table-of-contents__link toc-highlight">Running landing page</a></li><li><a href="#running-server" class="table-of-contents__link toc-highlight">Running server</a></li><li><a href="#running-ios" class="table-of-contents__link toc-highlight">Running iOS</a></li><li><a href="#running-android" class="table-of-contents__link toc-highlight">Running Android</a></li><li><a href="#codegen" class="table-of-contents__link toc-highlight">Codegen</a></li></ul></li><li><a href="#debugging" class="table-of-contents__link toc-highlight">Debugging</a><ul><li><a href="#react-developer-tools" class="table-of-contents__link toc-highlight">React Developer Tools</a></li><li><a href="#redux-developer-tools" class="table-of-contents__link toc-highlight">Redux Developer Tools</a></li><li><a href="#debugging-javascript" class="table-of-contents__link toc-highlight">Debugging JavaScript</a></li></ul></li><li><a href="#working-with-phabricator" class="table-of-contents__link toc-highlight">Working with Phabricator</a><ul><li><a href="#creating-a-new-diff" class="table-of-contents__link toc-highlight">Creating a new diff</a></li><li><a href="#updating-a-diff" class="table-of-contents__link toc-highlight">Updating a diff</a></li><li><a href="#committing-a-diff" class="table-of-contents__link toc-highlight">Committing a diff</a></li><li><a href="#creating-a-herald-rule" class="table-of-contents__link toc-highlight">Creating a Herald rule</a></li><li><a href="#final-notes" class="table-of-contents__link toc-highlight">Final notes</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/devenvironment_mac">Setting up the Dev Environment</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://comm.app/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/CommDotApp" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.881d3be3.js"></script>
<script src="/assets/js/main.2ac90de7.js"></script>
</body>
</html>